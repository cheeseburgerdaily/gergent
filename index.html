<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home</title>

<!-- Nunito font -->
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  body {
    background-color: #150d23;
    margin: 0;
    font-family: Arial, sans-serif;
  }

  .topbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: #10001f;
    padding: 12px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 20;
  }

  /* SIDEBAR BASE */
  .sidebar {
    position: fixed;
    top: 65px;
    left: 0;
    width: 60px;
    height: 100vh;
    background-color: #10001f;
    padding-top: 60px;
    overflow-x: hidden;
    transition: width 0.25s ease;
    z-index: 10;
  }

  /* EXPANDED SIDEBAR */
  .sidebar.open {
    width: 180px;
  }

  /* SIDEBAR ITEMS */
  .sidebar-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 18px;
    cursor: pointer;
    color: white;
    font-family: "Nunito", sans-serif;
  }

  .sidebar-item:hover {
    background-color: #30005e;
    border-radius: 8px;
  }

  /* ICONS */
  .sidebar-icon {
    width: 24px;
    height: 24px;
  }

  /* TEXT LABELS */
  .sidebar-text {
    opacity: 0;
    white-space: nowrap;
    transition: opacity 0.2s ease;
    font-size: 16px;
  }

  .sidebar.open .sidebar-text {
    opacity: 1;
  }

  .menu-icon {
    position: absolute;
    left: 17px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    gap: 5px;
  }

  .menu-icon div {
    width: 26px;
    height: 3px;
    background-color: #88719e;
    border-radius: 3px;
  }

  .center-box {
    background-color: #88719e;
    padding: 10px 16px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: "Nunito", sans-serif;
    font-weight: 700;
    color: white;
    font-size: 16px;
  }

  .center-group {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .number {
    font-family: "Nunito", sans-serif;
    font-weight: 700;
    color: white;
    font-size: 16px;
  }

  .settings-icon {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 22px;
    cursor: pointer;
    filter: invert(62%) sepia(13%) saturate(722%) hue-rotate(233deg) brightness(90%) contrast(86%);
  }

  .rewards-icon {
    position: absolute;
    right: 100px;
    top: 50%;
    transform: translateY(-51%);
    width: 22px;
    cursor: pointer;
    filter: invert(62%) sepia(13%) saturate(722%) hue-rotate(233deg) brightness(90%) contrast(86%);
  }

  .profile-icon {
    position: absolute;
    right: 60px;
    top: 50%;
    transform: translateY(-51%);
    width: 22px;
    cursor: pointer;
    filter: invert(62%) sepia(13%) saturate(722%) hue-rotate(233deg) brightness(90%) contrast(86%);
  }

  .wallet-btn {
    background-color: #2ecc71;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    font-family: "Nunito", sans-serif;
    font-weight: 700;
    cursor: pointer;
    font-size: 16px;
  }

  .wallet-btn:hover {
    background-color: #28b863;
  }

  .cases-icon,
  .home-icon,
  .inventory-icon,
  .trade-icon {
    filter: invert(62%) sepia(13%) saturate(722%) hue-rotate(233deg) brightness(90%) contrast(86%);
    transform: translateY(-5%);
    width: 24px;
  }

  /* WELCOME TEXT */
  .welcome-msg {
    margin-left: 120px;
    margin-top: 150px;
    font-family: "Nunito", sans-serif;
    font-size: 32px;
    font-weight: 700;
    color: white;
  }

  .username {
    color: #6ecbff; /* light blue */
    font-weight: 800;
  }
  .patchnotes-btn {
    margin-top: 25px;
    margin-left: 120px;  /* Adjust to match your layout */
    background: #300430;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 700;
    font-size: 1.1rem;
    font-family: "Nunito", sans-serif;
    transition: transform 0.1s ease-in-out;
  }

  .patchnotes-btn:hover {
    transform: scale(1.05);
  }



/* Smooth page fade-in */

  to   { opacity: 1; transform: translateY(0); }
}
body {}





/* Notification bar */
.notif-bar {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.9);
  color: #ffffff;
  padding: 10px 16px;
  border-radius: 8px;
  font-size: 14px;
  font-family: "Nunito", Arial, sans-serif;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 9999;
}
.notif-bar.show { opacity: 1; }
.notif-bar.error { background: #c0392b; }
.notif-bar.success { background: #27ae60; }

</style>
</head>
<body>
<div id="notifBar" class="notif-bar"></div>


<div id="loginButton" style="position: fixed; bottom: 15px; right: 15px; background:#7d5fff; padding:10px 16px; border-radius:8px; color:#fff; cursor:pointer; font-size:15px; font-weight:bold; z-index:9999;">Login</div>



<!-- TOP BAR -->
<div class="topbar">

  <div class="menu-icon" onclick="toggleSidebar()">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <div class="center-group">
    <div class="center-box">
        <span id="moneyAmount" class="amount">$0.00</span>
    </div>
    <button class="wallet-btn" onclick="location.href='money_transfer.html'">Wallet</button>
    <img src="images/settings.png" class="settings-icon" onclick="location.href='settings.html'">
    <img src="images/rewards.png" class="rewards-icon" onclick="location.href='rewards.html'">
    <img src="images/profile.png" class="profile-icon" onclick="location.href='profile.html'">
  </div>

</div>

<!-- LEFT SIDEBAR -->
<div class="sidebar" id="sidebar">

  <div class="sidebar-item" onclick="location.href='index.html'">
    <img src="images/home.png" class="home-icon">
    <span class="sidebar-text">Home</span>
  </div>

  <div class="sidebar-item" onclick="location.href='casepage.html'">
    <img src="images/cases.png" class="cases-icon">
    <span class="sidebar-text">Cases</span>
  </div>

  <div class="sidebar-item">
    <img src="images/inventory.png" class="inventory-icon" onclick="location.href='inventory.html'">
    <span class="sidebar-text">Inventory</span>
  </div>

  <div class="sidebar-item">
    <img src="images/trade.png" class="trade-icon">
    <span class="sidebar-text">Trade Ups</span>
  </div>

</div>

<!-- WELCOME MESSAGE -->
<div class="welcome-msg">
  Welcome <span id="welcomeUsername" class="username">User123</span>!
</div>

<button class="patchnotes-btn" onclick="location.href='patchnotes.html'">Patch Notes</button>


<script>
function toggleSidebar() {
  document.getElementById("sidebar").classList.toggle("open");
}

/* Load username */
function loadUsername() {
  let username = localStorage.getItem("username");

  if (!username || username.trim() === "") {
    username = "User123"; // default
  }

  document.getElementById("welcomeUsername").textContent = username;
}

loadUsername();

/* Money display */
function refreshMoneyDisplay() {
 document.getElementById('moneyAmount').textContent = Money.format(Money.get());
}
Money.onChange(refreshMoneyDisplay);

if (Money.get() === 0) {
   Money.add(10);
}
refreshMoneyDisplay();
</script>

<script type="module" src="money.js"></script>
<script src="money_controls.js"></script>
<script src="kilowatt.js"></script>
<script src="recoil.js"></script>


<script>
function updateLoginButton() {
    const btn = document.getElementById("loginButton");
    if (!btn) return;
    if (!localStorage.uid) {
        btn.textContent = "Login";
        btn.onclick = () => window.location.href = "login.html";
    } else {
        const user = localStorage.username || "User";
        btn.textContent = "Logout (" + user + ")";
        btn.onclick = () => {
            localStorage.removeItem("uid");
            localStorage.removeItem("username");
            location.reload();
        };
    }
}
updateLoginButton();
</script>


<script>
window.showNotification = function(msg, type) {
  var bar = document.getElementById('notifBar');
  if (!bar) return;
  bar.textContent = msg;
  bar.classList.remove('error','success');
  if (type === 'error') bar.classList.add('error');
  if (type === 'success') bar.classList.add('success');
  bar.classList.add('show');
  clearTimeout(window._notifTimer);
  window._notifTimer = setTimeout(function() {
    bar.classList.remove('show');
  }, 2200);
}
</script>

</body>
</html>
